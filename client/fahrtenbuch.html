<head>
  <title>Das Fahrtenbuch</title>
</head>

<body>
    <div id="vehicles-list-container">
        <h1>Fahrzeuge</h1>
        {{> vehicles}}
    </div>

    <div id="drives-list-container">
        {{> drives}}
    </div>

</body>

<template name="vehicles">

    {{#each vehicleList}}
    <div class="vehicle {{selected}}">
        <span class="icon">⛐</span> {{plate}}
    </div>
    {{/each}}

    <div id="createVehicle">
        <input type="text" id="new-vehicle-plate" placeholder="Neues KFZ..." />
    </div>

</template>

<template name="drives">

    {{#if any_vehicle_selected}}
        <table id="drives-list">
            <thead>
            <tr>
                <th>start</th>
                <th>end</th>
                <th>description</th>
                <th>privateDrive</th>
                <th>successfulRentals</th>
                <th>failedRentals</th>
            </tr>
            </thead>
            <tbody>
                {{#each driveList}}
                <tr class="drive {{selected}}">
                    <td>{{start}}</td>
                    <td>{{end}}</td>
                    <td>{{description}}</td>
                    <td>
                        {{#if privateDrive}}
                        ✓ ja
                        {{else}}
                        ✗ nein
                        {{/if}}
                    </td>
                    <td>{{successfulRentals}}</td>
                    <td>{{failedRentals}}</td>
                </tr>
                {{/each}}
            </tbody>
        </table>

        <div id="new-drive">
            {{> newDrive}}
        </div>

    {{else}}
        <div class="info-box">
            Bitte ein Fahrzeug auswählen...
        </div>
    {{/if}}

</template>

<template name="newDrive">
    <label>
        <span>Von</span>
        <input type="datetime-local" class="start"/>
    </label>
    <label>
        <span>Bis</span>
        <input type="datetime-local" class="end"/>
    </label>
    <label>
        <span>Fahrtbeschreibung</span>
        <input type="text" class="description" />
    </label>
    <label>
        <span>Privatfahrt</span>
        <input type="checkbox" class="private" checked/>
    </label>
    <label>
        <span>Erfolgreiche Mieten</span>
        <input type="number" class="successfulRentals"/>
    </label>
    <label>
        <span>Fehlgeschlagene Mieten</span>
        <input type="number" class="failedRentals"/>
    </label>
    <div>
        <input type="button" class="save" value="Speichern" />
    </div>

</template>